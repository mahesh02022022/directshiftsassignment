{"ast":null,"code":"import React from'react';import{useSelector}from'react-redux';import{Navigate,useLocation}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";function PrivateRoute(_ref){var _location$state;var children=_ref.children;var loading=useSelector(function(state){return state.session.loading;});var accessToken=useSelector(function(state){return state.session.accessToken;});var location=useLocation();var fromLocation=(_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.from;var previousLocation=fromLocation?fromLocation:{pathname:'/login'};if(accessToken){return children;}else if(loading){return/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"});}else if(!accessToken&&!loading){return/*#__PURE__*/_jsx(Navigate,{to:previousLocation,state:{from:location},replace:true});}else{return/*#__PURE__*/_jsx(\"p\",{children:\"Something went wrong\"});}}export default PrivateRoute;","map":{"version":3,"sources":["C:/ruby_prg/7/react-wishlist-series/frontend/src/app/features/routes/PrivateRoute.tsx"],"names":["React","useSelector","Navigate","useLocation","PrivateRoute","children","loading","state","session","accessToken","location","fromLocation","from","previousLocation","pathname"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAASC,QAAT,CAAmBC,WAAnB,KAAsC,kBAAtC,C,2CAGA,QAASC,CAAAA,YAAT,MAA4C,wBAApBC,CAAAA,QAAoB,MAApBA,QAAoB,CAC1C,GAAMC,CAAAA,OAAO,CAAGL,WAAW,CAAC,SAACM,KAAD,QAAsBA,CAAAA,KAAK,CAACC,OAAN,CAAcF,OAApC,EAAD,CAA3B,CACA,GAAMG,CAAAA,WAAW,CAAGR,WAAW,CAAC,SAACM,KAAD,QAAuBA,CAAAA,KAAK,CAACC,OAAN,CAAcC,WAArC,EAAD,CAA/B,CACA,GAAMC,CAAAA,QAAQ,CAAGP,WAAW,EAA5B,CACA,GAAMQ,CAAAA,YAAY,kBAAID,QAAQ,CAACH,KAAb,0CAAG,gBAAyBK,IAA9C,CACA,GAAMC,CAAAA,gBAAgB,CAAGF,YAAY,CAAGA,YAAH,CAAkB,CAAEG,QAAQ,CAAE,QAAZ,CAAvD,CAEA,GAAIL,WAAJ,CAAiB,CACb,MAAOJ,CAAAA,QAAP,CACH,CAFD,IAEO,IAAIC,OAAJ,CAAa,CAChB,mBAAO,iCAAP,CACH,CAFM,IAEA,IAAI,CAACG,WAAD,EAAgB,CAACH,OAArB,CAA8B,CACnC,mBAAO,KAAC,QAAD,EAAU,EAAE,CAAEO,gBAAd,CAAgC,KAAK,CAAE,CAACD,IAAI,CAAEF,QAAP,CAAvC,CAAyD,OAAO,KAAhE,EAAP,CACD,CAFM,IAEA,CACH,mBAAO,2CAAP,CACH,CACF,CAED,cAAeN,CAAAA,YAAf","sourcesContent":["import React from 'react'\r\nimport { useSelector } from 'react-redux';\r\nimport { Navigate, useLocation } from 'react-router-dom';\r\nimport { RootState } from '../../store';\r\n\r\nfunction PrivateRoute({ children  } : any ) {\r\n  const loading = useSelector((state: RootState) => state.session.loading);\r\n  const accessToken = useSelector((state : RootState) => state.session.accessToken);\r\n  const location = useLocation();\r\n  const fromLocation = (location.state as any)?.from;\r\n  const previousLocation = fromLocation ? fromLocation : { pathname: '/login'};\r\n\r\n  if (accessToken) {\r\n      return children;\r\n  } else if (loading) {\r\n      return <p>Loading...</p>;\r\n  } else if (!accessToken && !loading) {\r\n    return <Navigate to={previousLocation} state={{from: location}} replace/>;\r\n  } else {\r\n      return <p>Something went wrong</p>;\r\n  }\r\n}\r\n\r\nexport default PrivateRoute"]},"metadata":{},"sourceType":"module"}