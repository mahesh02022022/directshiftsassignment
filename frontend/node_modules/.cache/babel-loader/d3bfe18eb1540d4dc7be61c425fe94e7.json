{"ast":null,"code":"import _asyncToGenerator from\"C:/ruby_prg/7/react-wishlist-series/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/ruby_prg/7/react-wishlist-series/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\ruby_prg\\\\7\\\\react-wishlist-series\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{Visibility,VisibilityOff}from\"@mui/icons-material\";import{Alert,Box,Button,Card,CardActions,CardContent,Container,Divider,FormControl,FormGroup,FormHelperText,IconButton,InputAdornment,InputLabel,OutlinedInput,Typography}from\"@mui/material\";import{useEffect,useRef,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{Link,useNavigate}from\"react-router-dom\";import{resetErrorState,signUpUser}from\"./sessionSlice\";import CssBaseline from\"@mui/material/CssBaseline\";import TextField from\"@mui/material/TextField\";import LockOutlinedIcon from\"@mui/icons-material/LockOutlined\";import{createTheme,ThemeProvider}from\"@mui/material/styles\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var theme=createTheme();function Signup(){var emailRef=useRef();var passwordRef=useRef();var passwordConfirmationRef=useRef();var errorMessages=useSelector(function(state){return state.session.errorMessages;});var _useState=useState([]),_useState2=_slicedToArray(_useState,2),errors=_useState2[0],setErrors=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showPassword=_useState4[0],setShowPassword=_useState4[1];var loading=false;var navigate=useNavigate();var dispatch=useDispatch();useEffect(function(){var _emailRef$current;emailRef===null||emailRef===void 0?void 0:(_emailRef$current=emailRef.current)===null||_emailRef$current===void 0?void 0:_emailRef$current.focus();if(errorMessages!==undefined){setErrors(errorMessages);dispatch(resetErrorState());}},[]);function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var payload,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();setErrors([]);if(!((emailRef===null||emailRef===void 0?void 0:emailRef.current)===undefined||emailRef.current.value===\"\"||(passwordRef===null||passwordRef===void 0?void 0:passwordRef.current)===undefined||passwordRef.current.value===\"\"||(passwordConfirmationRef===null||passwordConfirmationRef===void 0?void 0:passwordConfirmationRef.current)===undefined||passwordConfirmationRef.current.value===\"\")){_context.next=4;break;}return _context.abrupt(\"return\",setErrors([\"Please fill out all fields\"]));case 4:if(!(passwordRef.current.value!==passwordConfirmationRef.current.value)){_context.next=6;break;}return _context.abrupt(\"return\",setErrors([\"Passwords do not match\"]));case 6:payload={email:emailRef.current.value,password:passwordRef.current.value};_context.next=9;return dispatch(signUpUser(payload));case 9:response=_context.sent;console.log(response);if(!(errorMessages.length>0)){_context.next=15;break;}navigate(\"/\");_context.next=16;break;case 15:return _context.abrupt(\"return\",setErrors(errorMessages));case 16:case\"end\":return _context.stop();}}},_callee);}));return _handleSubmit.apply(this,arguments);}var passwordInput=/*#__PURE__*/_jsx(OutlinedInput,{id:\"password\",label:\"Password\",variant:\"Password\",type:showPassword?\"text\":\"password\",inputRef:passwordRef,endAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"end\",children:/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"toggle password visibility\",onClick:function onClick(){return setShowPassword(!showPassword);},onMouseDown:function onMouseDown(){return setShowPassword(!showPassword);},edge:\"end\",children:showPassword?/*#__PURE__*/_jsx(Visibility,{}):/*#__PURE__*/_jsx(VisibilityOff,{})})})});var passwordConfirmationInput=/*#__PURE__*/_jsx(OutlinedInput,{id:\"password-confirmation\",type:showPassword?\"text\":\"password\",inputRef:passwordConfirmationRef,label:\"Confirm Password\",variant:\"Confirm Password\",endAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"end\",children:/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"toggle password visibility\",onClick:function onClick(){return setShowPassword(!showPassword);},onMouseDown:function onMouseDown(){return setShowPassword(!showPassword);},edge:\"end\",children:showPassword?/*#__PURE__*/_jsx(Visibility,{}):/*#__PURE__*/_jsx(VisibilityOff,{})})})});return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(ThemeProvider,{theme:theme,children:/*#__PURE__*/_jsxs(Container,{component:\"main\",maxWidth:\"xs\",children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsxs(Box,{sx:{marginTop:8,padding:\"10,10\",display:\"block\",flexDirection:\"column\",alignItems:\"center\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center\",children:/*#__PURE__*/_jsxs(Container,{maxWidth:\"xl\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"left-px:100px\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Card,{sx:{boxShadow:4,maxWidth:\"md\"},children:/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(Typography,{component:\"h5\",variant:\"h5\",align:\"center\",children:[/*#__PURE__*/_jsx(LockOutlinedIcon,{}),\"Sign Up\"]})})})}),/*#__PURE__*/_jsx(\"div\",{})]})}),/*#__PURE__*/_jsx(\"section\",{style:{marginTop:\"0em\"},children:/*#__PURE__*/_jsx(Container,{maxWidth:\"md\",children:/*#__PURE__*/_jsxs(Card,{sx:{boxShadow:4,maxWidth:\"md\"},children:[/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(Container,{maxWidth:\"sm\",children:[/*#__PURE__*/_jsx(Typography,{variant:\"h2\",color:\"text.primary\",gutterBottom:true}),errors.length>0?/*#__PURE__*/_jsx(Alert,{severity:\"error\",\"aria-live\":\"assertive\",children:errors.map(function(error,index){return/*#__PURE__*/_jsx(\"p\",{children:error},\"alert-\".concat(index));})}):/*#__PURE__*/_jsx(_Fragment,{}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(FormGroup,{row:true,id:\"email-group\",sx:{marginTop:\"1em\"},children:/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,children:[/*#__PURE__*/_jsx(TextField,{id:\"email\",type:\"email\",label:\"Email Address\",inputRef:emailRef}),/*#__PURE__*/_jsx(FormHelperText,{id:\"email-helper-text\",children:\"We'll never share your email.\"})]})}),/*#__PURE__*/_jsx(FormGroup,{row:true,id:\"password-group\",sx:{marginTop:\"1em\"},children:/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,children:[/*#__PURE__*/_jsx(InputLabel,{required:true,htmlFor:\"password\",id:\"password-label\",children:\"Password\"}),passwordInput,\"-\"]})}),/*#__PURE__*/_jsx(FormGroup,{row:true,id:\"password-confirmation-group\",sx:{marginTop:\"1em\"},children:/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,children:[/*#__PURE__*/_jsx(InputLabel,{required:true,htmlFor:\"password-confirmation\",id:\"password-confirmation-label\",children:\"Password Confirmation\"}),passwordConfirmationInput]})}),/*#__PURE__*/_jsx(FormGroup,{row:true,id:\"submit-group\",sx:{marginTop:\"1em\"},children:/*#__PURE__*/_jsx(FormControl,{fullWidth:true,children:/*#__PURE__*/_jsx(Button,{disabled:loading,variant:\"contained\",color:\"primary\",type:\"submit\",id:\"submit-button\",children:\"Create Account\"})})})]})]})}),/*#__PURE__*/_jsx(Divider,{light:false}),/*#__PURE__*/_jsx(CardActions,{sx:{marginTop:\"1em\",justifyContent:\"center\"},disableSpacing:true,children:/*#__PURE__*/_jsxs(Box,{children:[\"Already have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login!\"})]})})]})})})]})]})})});}export default Signup;","map":{"version":3,"sources":["C:/ruby_prg/7/react-wishlist-series/frontend/src/app/features/sessions/Signup.tsx"],"names":["Visibility","VisibilityOff","Alert","Box","Button","Card","CardActions","CardContent","Container","Divider","FormControl","FormGroup","FormHelperText","IconButton","InputAdornment","InputLabel","OutlinedInput","Typography","useEffect","useRef","useState","useDispatch","useSelector","Link","useNavigate","resetErrorState","signUpUser","CssBaseline","TextField","LockOutlinedIcon","createTheme","ThemeProvider","theme","Signup","emailRef","passwordRef","passwordConfirmationRef","errorMessages","state","session","errors","setErrors","showPassword","setShowPassword","loading","navigate","dispatch","current","focus","undefined","handleSubmit","event","preventDefault","value","payload","email","password","response","console","log","length","passwordInput","passwordConfirmationInput","marginTop","padding","display","flexDirection","alignItems","boxShadow","maxWidth","map","error","index","justifyContent"],"mappings":"kZAAA,OAASA,UAAT,CAAqBC,aAArB,KAA0C,qBAA1C,CACA,OACEC,KADF,CAEEC,GAFF,CAGEC,MAHF,CAIEC,IAJF,CAKEC,WALF,CAMEC,WANF,CAOEC,SAPF,CAQEC,OARF,CASEC,WATF,CAUEC,SAVF,CAWEC,cAXF,CAYEC,UAZF,CAcEC,cAdF,CAeEC,UAfF,CAgBEC,aAhBF,CAiBEC,UAjBF,KAkBO,eAlBP,CAmBA,OAASC,SAAT,CAAoBC,MAApB,CAA4BC,QAA5B,KAA4C,OAA5C,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,IAAT,CAA4BC,WAA5B,KAA+C,kBAA/C,CAEA,OAASC,eAAT,CAA0BC,UAA1B,KAA4C,gBAA5C,CAIA,MAAOC,CAAAA,WAAP,KAAwB,2BAAxB,CACA,MAAOC,CAAAA,SAAP,KAAsB,yBAAtB,CAMA,MAAOC,CAAAA,gBAAP,KAA6B,kCAA7B,CAEA,OAASC,WAAT,CAAsBC,aAAtB,KAA2C,sBAA3C,C,6IACA,GAAMC,CAAAA,KAAK,CAAGF,WAAW,EAAzB,CACA,QAASG,CAAAA,MAAT,EAAkB,CAChB,GAAMC,CAAAA,QAAQ,CAAGf,MAAM,EAAvB,CACA,GAAMgB,CAAAA,WAAW,CAAGhB,MAAM,EAA1B,CACA,GAAMiB,CAAAA,uBAAuB,CAAGjB,MAAM,EAAtC,CACA,GAAMkB,CAAAA,aAAa,CAAGf,WAAW,CAC/B,SAACgB,KAAD,QAAsBA,CAAAA,KAAK,CAACC,OAAN,CAAcF,aAApC,EAD+B,CAAjC,CAIA,cAA4BjB,QAAQ,CAAgB,EAAhB,CAApC,wCAAOoB,MAAP,eAAeC,SAAf,eACA,eAAwCrB,QAAQ,CAAU,KAAV,CAAhD,yCAAOsB,YAAP,eAAqBC,eAArB,eACA,GAAMC,CAAAA,OAAO,CAAG,KAAhB,CACA,GAAMC,CAAAA,QAAQ,CAAGrB,WAAW,EAA5B,CACA,GAAMsB,CAAAA,QAAQ,CAAGzB,WAAW,EAA5B,CAEAH,SAAS,CAAC,UAAM,uBACdgB,QAAQ,OAAR,EAAAA,QAAQ,SAAR,2BAAAA,QAAQ,CAAEa,OAAV,8DAAmBC,KAAnB,GACA,GAAIX,aAAa,GAAKY,SAAtB,CAAiC,CAC/BR,SAAS,CAACJ,aAAD,CAAT,CACAS,QAAQ,CAACrB,eAAe,EAAhB,CAAR,CACD,CACF,CANQ,CAMN,EANM,CAAT,CAdgB,QAsBDyB,CAAAA,YAtBC,gJAsBhB,iBAA4BC,KAA5B,uIACEA,KAAK,CAACC,cAAN,GACAX,SAAS,CAAC,EAAD,CAAT,CAFF,KAII,CAAAP,QAAQ,OAAR,EAAAA,QAAQ,SAAR,QAAAA,QAAQ,CAAEa,OAAV,IAAsBE,SAAtB,EACAf,QAAQ,CAACa,OAAT,CAAiBM,KAAjB,GAA2B,EAD3B,EAEA,CAAAlB,WAAW,OAAX,EAAAA,WAAW,SAAX,QAAAA,WAAW,CAAEY,OAAb,IAAyBE,SAFzB,EAGAd,WAAW,CAACY,OAAZ,CAAoBM,KAApB,GAA8B,EAH9B,EAIA,CAAAjB,uBAAuB,OAAvB,EAAAA,uBAAuB,SAAvB,QAAAA,uBAAuB,CAAEW,OAAzB,IAAqCE,SAJrC,EAKAb,uBAAuB,CAACW,OAAxB,CAAgCM,KAAhC,GAA0C,EAT9C,0DAWWZ,SAAS,CAAC,CAAC,4BAAD,CAAD,CAXpB,cAaMN,WAAW,CAACY,OAAZ,CAAoBM,KAApB,GAA8BjB,uBAAuB,CAACW,OAAxB,CAAgCM,KAbpE,0DAcWZ,SAAS,CAAC,CAAC,wBAAD,CAAD,CAdpB,SAgBQa,OAhBR,CAgBkB,CACdC,KAAK,CAAErB,QAAQ,CAACa,OAAT,CAAiBM,KADV,CAEdG,QAAQ,CAAErB,WAAW,CAACY,OAAZ,CAAoBM,KAFhB,CAhBlB,uBAoB0BP,CAAAA,QAAQ,CAACpB,UAAU,CAAC4B,OAAD,CAAX,CApBlC,QAoBQG,QApBR,eAsBEC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EAtBF,KAuBMpB,aAAa,CAACuB,MAAd,CAAuB,CAvB7B,2BAwBIf,QAAQ,CAAC,GAAD,CAAR,CAxBJ,+DA0BWJ,SAAS,CAACJ,aAAD,CA1BpB,yDAtBgB,+CAoDhB,GAAMwB,CAAAA,aAAa,cACjB,KAAC,aAAD,EACE,EAAE,CAAC,UADL,CAEE,KAAK,CAAC,UAFR,CAGE,OAAO,CAAC,UAHV,CAIE,IAAI,CAAEnB,YAAY,CAAG,MAAH,CAAY,UAJhC,CAKE,QAAQ,CAAEP,WALZ,CAME,YAAY,cACV,KAAC,cAAD,EAAgB,QAAQ,CAAC,KAAzB,uBACE,KAAC,UAAD,EACE,aAAW,4BADb,CAEE,OAAO,CAAE,yBAAMQ,CAAAA,eAAe,CAAC,CAACD,YAAF,CAArB,EAFX,CAGE,WAAW,CAAE,6BAAMC,CAAAA,eAAe,CAAC,CAACD,YAAF,CAArB,EAHf,CAIE,IAAI,CAAC,KAJP,UAMGA,YAAY,cAAG,KAAC,UAAD,IAAH,cAAoB,KAAC,aAAD,IANnC,EADF,EAPJ,EADF,CAsBA,GAAMoB,CAAAA,yBAAyB,cAC7B,KAAC,aAAD,EACE,EAAE,CAAC,uBADL,CAEE,IAAI,CAAEpB,YAAY,CAAG,MAAH,CAAY,UAFhC,CAGE,QAAQ,CAAEN,uBAHZ,CAIE,KAAK,CAAC,kBAJR,CAKE,OAAO,CAAC,kBALV,CAME,YAAY,cACV,KAAC,cAAD,EAAgB,QAAQ,CAAC,KAAzB,uBACE,KAAC,UAAD,EACE,aAAW,4BADb,CAEE,OAAO,CAAE,yBAAMO,CAAAA,eAAe,CAAC,CAACD,YAAF,CAArB,EAFX,CAGE,WAAW,CAAE,6BAAMC,CAAAA,eAAe,CAAC,CAACD,YAAF,CAArB,EAHf,CAIE,IAAI,CAAC,KAJP,UAMGA,YAAY,cAAG,KAAC,UAAD,IAAH,cAAoB,KAAC,aAAD,IANnC,EADF,EAPJ,EADF,CAsBA,mBACE,sCACE,KAAC,aAAD,EAAe,KAAK,CAAEV,KAAtB,uBACE,MAAC,SAAD,EAAW,SAAS,CAAC,MAArB,CAA4B,QAAQ,CAAC,IAArC,wBACE,KAAC,WAAD,IADF,cAEE,MAAC,GAAD,EACE,EAAE,CAAE,CACF+B,SAAS,CAAE,CADT,CAEFC,OAAO,CAAE,OAFP,CAGFC,OAAO,CAAE,OAHP,CAIFC,aAAa,CAAE,QAJb,CAKFC,UAAU,CAAE,QALV,CADN,wBAUE,YAAK,SAAS,CAAC,mBAAf,uBACE,MAAC,SAAD,EAAW,QAAQ,CAAC,IAApB,wBACE,YAAK,SAAS,CAAC,eAAf,EADF,cAEE,kCACE,KAAC,IAAD,EAAM,EAAE,CAAE,CAAEC,SAAS,CAAE,CAAb,CAAgBC,QAAQ,CAAE,IAA1B,CAAV,uBACE,KAAC,WAAD,wBACE,MAAC,UAAD,EAAY,SAAS,CAAC,IAAtB,CAA2B,OAAO,CAAC,IAAnC,CAAwC,KAAK,CAAC,QAA9C,wBACE,KAAC,gBAAD,IADF,aADF,EADF,EADF,EAFF,cAYE,cAZF,GADF,EAVF,cA0BE,gBAAS,KAAK,CAAE,CAAEN,SAAS,CAAE,KAAb,CAAhB,uBACE,KAAC,SAAD,EAAW,QAAQ,CAAC,IAApB,uBACE,MAAC,IAAD,EAAM,EAAE,CAAE,CAAEK,SAAS,CAAE,CAAb,CAAgBC,QAAQ,CAAE,IAA1B,CAAV,wBACE,KAAC,WAAD,wBACE,MAAC,SAAD,EAAW,QAAQ,CAAC,IAApB,wBACE,KAAC,UAAD,EACE,OAAO,CAAC,IADV,CAEE,KAAK,CAAC,cAFR,CAGE,YAAY,KAHd,EADF,CAMG7B,MAAM,CAACoB,MAAP,CAAgB,CAAhB,cACC,KAAC,KAAD,EAAO,QAAQ,CAAC,OAAhB,CAAwB,YAAU,WAAlC,UACGpB,MAAM,CAAC8B,GAAP,CAAW,SAACC,KAAD,CAAQC,KAAR,CAAkB,CAC5B,mBAAO,mBAA2BD,KAA3B,kBAAiBC,KAAjB,EAAP,CACD,CAFA,CADH,EADD,cAOC,kBAbJ,cAeE,cAAM,QAAQ,CAAEtB,YAAhB,wBACE,KAAC,SAAD,EACE,GAAG,CAAE,IADP,CAEE,EAAE,CAAC,aAFL,CAGE,EAAE,CAAE,CAAEa,SAAS,CAAE,KAAb,CAHN,uBAKE,MAAC,WAAD,EAAa,SAAS,KAAtB,wBAcE,KAAC,SAAD,EACE,EAAE,CAAC,OADL,CAEE,IAAI,CAAC,OAFP,CAGE,KAAK,CAAC,eAHR,CAIE,QAAQ,CAAE7B,QAJZ,EAdF,cAoBE,KAAC,cAAD,EAAgB,EAAE,CAAC,mBAAnB,2CApBF,GALF,EADF,cA+BE,KAAC,SAAD,EACE,GAAG,CAAE,IADP,CAEE,EAAE,CAAC,gBAFL,CAGE,EAAE,CAAE,CAAE6B,SAAS,CAAE,KAAb,CAHN,uBAKE,MAAC,WAAD,EAAa,SAAS,KAAtB,wBACE,KAAC,UAAD,EACE,QAAQ,KADV,CAEE,OAAO,CAAC,UAFV,CAGE,EAAE,CAAC,gBAHL,sBADF,CAQGF,aARH,OALF,EA/BF,cA+CE,KAAC,SAAD,EACE,GAAG,CAAE,IADP,CAEE,EAAE,CAAC,6BAFL,CAGE,EAAE,CAAE,CAAEE,SAAS,CAAE,KAAb,CAHN,uBAKE,MAAC,WAAD,EAAa,SAAS,KAAtB,wBACE,KAAC,UAAD,EACE,QAAQ,KADV,CAEE,OAAO,CAAC,uBAFV,CAGE,EAAE,CAAC,6BAHL,mCADF,CAQGD,yBARH,GALF,EA/CF,cA+DE,KAAC,SAAD,EACE,GAAG,CAAE,IADP,CAEE,EAAE,CAAC,cAFL,CAGE,EAAE,CAAE,CAAEC,SAAS,CAAE,KAAb,CAHN,uBAKE,KAAC,WAAD,EAAa,SAAS,KAAtB,uBACE,KAAC,MAAD,EACE,QAAQ,CAAEnB,OADZ,CAEE,OAAO,CAAC,WAFV,CAGE,KAAK,CAAC,SAHR,CAIE,IAAI,CAAC,QAJP,CAKE,EAAE,CAAC,eALL,4BADF,EALF,EA/DF,GAfF,GADF,EADF,cAoGE,KAAC,OAAD,EAAS,KAAK,CAAE,KAAhB,EApGF,cAqGE,KAAC,WAAD,EACE,EAAE,CAAE,CAAEmB,SAAS,CAAE,KAAb,CAAoBU,cAAc,CAAE,QAApC,CADN,CAEE,cAAc,KAFhB,uBAIE,MAAC,GAAD,qDAC2B,KAAC,IAAD,EAAM,EAAE,CAAC,QAAT,oBAD3B,GAJF,EArGF,GADF,EADF,EA1BF,GAFF,GADF,EADF,EADF,CAwJD,CAED,cAAexC,CAAAA,MAAf","sourcesContent":["import { Visibility, VisibilityOff } from \"@mui/icons-material\";\r\nimport {\r\n  Alert,\r\n  Box,\r\n  Button,\r\n  Card,\r\n  CardActions,\r\n  CardContent,\r\n  Container,\r\n  Divider,\r\n  FormControl,\r\n  FormGroup,\r\n  FormHelperText,\r\n  IconButton,\r\n  Input,\r\n  InputAdornment,\r\n  InputLabel,\r\n  OutlinedInput,\r\n  Typography,\r\n} from \"@mui/material\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\r\nimport { RootState } from \"../../store\";\r\nimport { resetErrorState, signUpUser } from \"./sessionSlice\";\r\n\r\nimport Avatar from \"@mui/material/Avatar\";\r\n\r\nimport CssBaseline from \"@mui/material/CssBaseline\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport FormControlLabel from \"@mui/material/FormControlLabel\";\r\nimport Checkbox from \"@mui/material/Checkbox\";\r\n\r\nimport Grid from \"@mui/material/Grid\";\r\n\r\nimport LockOutlinedIcon from \"@mui/icons-material/LockOutlined\";\r\n\r\nimport { createTheme, ThemeProvider } from \"@mui/material/styles\";\r\nconst theme = createTheme();\r\nfunction Signup() {\r\n  const emailRef = useRef<HTMLInputElement>();\r\n  const passwordRef = useRef<HTMLInputElement>();\r\n  const passwordConfirmationRef = useRef<HTMLInputElement>();\r\n  const errorMessages = useSelector(\r\n    (state: RootState) => state.session.errorMessages\r\n  );\r\n\r\n  const [errors, setErrors] = useState<Array<string>>([]);\r\n  const [showPassword, setShowPassword] = useState<boolean>(false);\r\n  const loading = false;\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    emailRef?.current?.focus();\r\n    if (errorMessages !== undefined) {\r\n      setErrors(errorMessages);\r\n      dispatch(resetErrorState());\r\n    }\r\n  }, []);\r\n\r\n  async function handleSubmit(event: React.FormEvent<HTMLFormElement>) {\r\n    event.preventDefault();\r\n    setErrors([]);\r\n    if (\r\n      emailRef?.current === undefined ||\r\n      emailRef.current.value === \"\" ||\r\n      passwordRef?.current === undefined ||\r\n      passwordRef.current.value === \"\" ||\r\n      passwordConfirmationRef?.current === undefined ||\r\n      passwordConfirmationRef.current.value === \"\"\r\n    ) {\r\n      return setErrors([\"Please fill out all fields\"]);\r\n    }\r\n    if (passwordRef.current.value !== passwordConfirmationRef.current.value) {\r\n      return setErrors([\"Passwords do not match\"]);\r\n    }\r\n    const payload = {\r\n      email: emailRef.current.value,\r\n      password: passwordRef.current.value,\r\n    };\r\n    const response = (await dispatch(signUpUser(payload))) as any;\r\n\r\n    console.log(response);\r\n    if (errorMessages.length > 0) {\r\n      navigate(\"/\");\r\n    } else {\r\n      return setErrors(errorMessages);\r\n    }\r\n  }\r\n\r\n  const passwordInput = (\r\n    <OutlinedInput\r\n      id=\"password\"\r\n      label=\"Password\"\r\n      variant=\"Password\"\r\n      type={showPassword ? \"text\" : \"password\"}\r\n      inputRef={passwordRef}\r\n      endAdornment={\r\n        <InputAdornment position=\"end\">\r\n          <IconButton\r\n            aria-label=\"toggle password visibility\"\r\n            onClick={() => setShowPassword(!showPassword)}\r\n            onMouseDown={() => setShowPassword(!showPassword)}\r\n            edge=\"end\"\r\n          >\r\n            {showPassword ? <Visibility /> : <VisibilityOff />}\r\n          </IconButton>\r\n        </InputAdornment>\r\n      }\r\n    />\r\n  );\r\n\r\n  const passwordConfirmationInput = (\r\n    <OutlinedInput\r\n      id=\"password-confirmation\"\r\n      type={showPassword ? \"text\" : \"password\"}\r\n      inputRef={passwordConfirmationRef}\r\n      label=\"Confirm Password\"\r\n      variant=\"Confirm Password\"\r\n      endAdornment={\r\n        <InputAdornment position=\"end\">\r\n          <IconButton\r\n            aria-label=\"toggle password visibility\"\r\n            onClick={() => setShowPassword(!showPassword)}\r\n            onMouseDown={() => setShowPassword(!showPassword)}\r\n            edge=\"end\"\r\n          >\r\n            {showPassword ? <Visibility /> : <VisibilityOff />}\r\n          </IconButton>\r\n        </InputAdornment>\r\n      }\r\n    />\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <ThemeProvider theme={theme}>\r\n        <Container component=\"main\" maxWidth=\"xs\">\r\n          <CssBaseline />\r\n          <Box\r\n            sx={{\r\n              marginTop: 8,\r\n              padding: \"10,10\",\r\n              display: \"block\",\r\n              flexDirection: \"column\",\r\n              alignItems: \"center\",\r\n            }}\r\n          >\r\n            {/* ###########new cod induced */}\r\n            <div className=\"flex items-center\">\r\n              <Container maxWidth=\"xl\">\r\n                <div className=\"left-px:100px\"></div>\r\n                <div>\r\n                  <Card sx={{ boxShadow: 4, maxWidth: \"md\" }}>\r\n                    <CardContent>\r\n                      <Typography component=\"h5\" variant=\"h5\" align=\"center\">\r\n                        <LockOutlinedIcon />\r\n                        Sign Up\r\n                      </Typography>\r\n                    </CardContent>\r\n                  </Card>\r\n                </div>\r\n                <div></div>\r\n              </Container>\r\n            </div>\r\n            <section style={{ marginTop: \"0em\" }}>\r\n              <Container maxWidth=\"md\">\r\n                <Card sx={{ boxShadow: 4, maxWidth: \"md\" }}>\r\n                  <CardContent>\r\n                    <Container maxWidth=\"sm\">\r\n                      <Typography\r\n                        variant=\"h2\"\r\n                        color=\"text.primary\"\r\n                        gutterBottom\r\n                      ></Typography>\r\n                      {errors.length > 0 ? (\r\n                        <Alert severity=\"error\" aria-live=\"assertive\">\r\n                          {errors.map((error, index) => {\r\n                            return <p key={`alert-${index}`}>{error}</p>;\r\n                          })}\r\n                        </Alert>\r\n                      ) : (\r\n                        <></>\r\n                      )}\r\n                      <form onSubmit={handleSubmit}>\r\n                        <FormGroup\r\n                          row={true}\r\n                          id=\"email-group\"\r\n                          sx={{ marginTop: \"1em\" }}\r\n                        >\r\n                          <FormControl fullWidth>\r\n                            {/* <InputLabel\r\n                              required\r\n                              htmlFor=\"email\"\r\n                              id=\"email-label\"\r\n                            >\r\n                              Email Address\r\n                            </InputLabel>\r\n                            <Input\r\n                              id=\"email1\"\r\n                              type=\"email\"\r\n                              inputRef={emailRef}\r\n                            /> */}\r\n\r\n                            <TextField\r\n                              id=\"email\"\r\n                              type=\"email\"\r\n                              label=\"Email Address\"\r\n                              inputRef={emailRef}\r\n                            />\r\n                            <FormHelperText id=\"email-helper-text\">\r\n                              We&apos;ll never share your email.\r\n                            </FormHelperText>\r\n                          </FormControl>\r\n                        </FormGroup>\r\n                        <FormGroup\r\n                          row={true}\r\n                          id=\"password-group\"\r\n                          sx={{ marginTop: \"1em\" }}\r\n                        >\r\n                          <FormControl fullWidth>\r\n                            <InputLabel\r\n                              required\r\n                              htmlFor=\"password\"\r\n                              id=\"password-label\"\r\n                            >\r\n                              Password\r\n                            </InputLabel>\r\n                            {passwordInput}-\r\n                          </FormControl>\r\n                        </FormGroup>\r\n                        <FormGroup\r\n                          row={true}\r\n                          id=\"password-confirmation-group\"\r\n                          sx={{ marginTop: \"1em\" }}\r\n                        >\r\n                          <FormControl fullWidth>\r\n                            <InputLabel\r\n                              required\r\n                              htmlFor=\"password-confirmation\"\r\n                              id=\"password-confirmation-label\"\r\n                            >\r\n                              Password Confirmation\r\n                            </InputLabel>\r\n                            {passwordConfirmationInput}\r\n                          </FormControl>\r\n                        </FormGroup>\r\n                        <FormGroup\r\n                          row={true}\r\n                          id=\"submit-group\"\r\n                          sx={{ marginTop: \"1em\" }}\r\n                        >\r\n                          <FormControl fullWidth>\r\n                            <Button\r\n                              disabled={loading}\r\n                              variant=\"contained\"\r\n                              color=\"primary\"\r\n                              type=\"submit\"\r\n                              id=\"submit-button\"\r\n                            >\r\n                              Create Account\r\n                            </Button>\r\n                          </FormControl>\r\n                        </FormGroup>\r\n                      </form>\r\n                    </Container>\r\n                  </CardContent>\r\n                  <Divider light={false} />\r\n                  <CardActions\r\n                    sx={{ marginTop: \"1em\", justifyContent: \"center\" }}\r\n                    disableSpacing\r\n                  >\r\n                    <Box>\r\n                      Already have an account? <Link to=\"/login\">Login!</Link>\r\n                    </Box>\r\n                  </CardActions>\r\n                </Card>\r\n              </Container>\r\n            </section>\r\n\r\n            {/* ##############end  */}\r\n          </Box>\r\n        </Container>\r\n      </ThemeProvider>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Signup;\r\n"]},"metadata":{},"sourceType":"module"}